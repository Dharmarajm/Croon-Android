{"version":3,"sources":["../../src/pages/changepassword/changepassword.module.ts","../../src/pages/changepassword/changepassword.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangepasswordPage } from './changepassword';\n\n@NgModule({\n  declarations: [\n    ChangepasswordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChangepasswordPage),\n  ],\n})\nexport class ChangepasswordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/changepassword/changepassword.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ToastController, Platform, App, Nav} from 'ionic-angular';\n\nimport { LoginPage } from './../login/login';\nimport { ChangepasswordProvider } from '../../providers/changepassword/changepassword';\nimport { OneSignal } from '@ionic-native/onesignal';\n\n@IonicPage()\n@Component({\n  selector: 'page-changepassword',\n  templateUrl: 'changepassword.html',\n})\nexport class ChangepasswordPage {\n\n  @ViewChild('myInput') myInput ;\n  change_details:any;\n  change: any = {emailid:'',password:'',new_password:''};\n  assignPush:any;\n  getPushData:any;\n  \n  constructor(public app:App,public nav:Nav,public navCtrl: NavController,public service:ChangepasswordProvider,public loadingCtrl: LoadingController, public navParams: NavParams,public alertCtrl:AlertController,public toastCtrl: ToastController,public platform:Platform,private oneSignal:OneSignal) {\n    platform.ready().then(() => {      \n      platform.registerBackButtonAction(() => {\n       this.navCtrl.setRoot('MenuPage');\n      }, 0);\n      this.triggerNotification();\n    })  \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChangepasswordPage');\n\n     window.setTimeout(() => {\n      this.myInput.setFocus();\n    }, 600);\n  }\n\n  \n  triggerNotification(){\n    this.oneSignal.startInit('b968edce-1541-4003-a09e-3a670becec2d', '812346685705');\n        this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.Notification);\n        this.oneSignal.getIds().then((id) => {\n         localStorage.setItem(\"player_id\", id.userId);\n     \n        });\n        this.oneSignal.setSubscription(true);\n        this.oneSignal.handleNotificationReceived().subscribe((data) => {\n        // handle received here how you wish.\n        }); \n        this.oneSignal.handleNotificationOpened().subscribe((result) => { \n          this.assignPush = JSON.stringify(result.notification.isAppInFocus);\n          this.getPushData = result.notification.payload.additionalData;\n          localStorage.setItem(\"action\", this.assignPush);\n\n          /*if(localStorage.getItem(\"action\") == 'false'){\n            \n          }else{*/\n            localStorage.setItem(\"noti_page\", this.getPushData.action);\n            if(this.getPushData.value!=undefined || this.getPushData.value!=null){\n              localStorage.setItem(\"ViewDetails\", this.getPushData.value.id);\n              localStorage.setItem(\"noti_genre_id\", this.getPushData.value.genre.id);\n              localStorage.setItem(\"noti_genre_type\", this.getPushData.value.genre.genre_type);\n              if(localStorage.getItem(\"noti_page\")==\"home\"){ \n               this.nav.setRoot('TabsPage',{tabIndex:0})\n              }else{\n               this.nav.setRoot('TabsPage',{tabIndex:3})\n              }\n            }else if(localStorage.getItem(\"noti_page\")==\"home\"){\n              this.nav.setRoot('TabsPage',{tabIndex:0})\n            }else{\n              this.nav.setRoot('TabsPage',{tabIndex:3})\n            }\n          /*}*/\n    \n      });\n      this.oneSignal.endInit();\n       \n      //this.oneSignal.setLogLevel({logLevel: 6, visualLevel: 6});\n  }\n   \n    goto_login(){\n      var email_validation = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; \n\n\n      if(this.change.emailid == '' || this.change.emailid == null){\n          let alert = this.alertCtrl.create({\n            title: `Croon`,\n            message: `Please enter the Email-ID`,\n            buttons: ['Ok']\n          });\n          alert.present();\n      }else if(!email_validation.test(this.change.emailid)) { \n          let alert = this.alertCtrl.create({\n              title: `Croon`,\n              message: `Invalid Email-ID`,\n              buttons: ['Ok']\n            });\n            alert.present();\n       }else if(this.change.password == '' || this.change.password == null){\n         let alert = this.alertCtrl.create({\n            title: `Croon`,\n            message: `Please enter the old password`,\n            buttons: ['Ok']\n          });\n          alert.present();\n      }else if(this.change.password.length < 5){\n             let alert = this.alertCtrl.create({\n                title: `Croon`,\n                message: `Please enter the minmum 5 character in password field`,\n                buttons: ['Ok']\n              });\n              alert.present();\n      }else if(this.change.new_password == '' || this.change.new_password == null){\n          let alert = this.alertCtrl.create({\n            title: `Croon`,\n            message: `Please enter the new password`,\n            buttons: ['Ok']\n          });\n          alert.present();\n      }else if(this.change.new_password.length < 5){\n             let alert = this.alertCtrl.create({\n                title: `Croon`,\n                message: `Please enter the minmum 5 character`,\n                buttons: ['Ok']\n              });\n              alert.present();\n      }else{  \n        let loading = this.loadingCtrl.create({\n          content: 'Please wait...'\n        });\n\n        loading.present();             \n        this.service.changepassword(this.change.emailid.toLowerCase(), this.change.password, this.change.new_password)\n            .subscribe(\n              res => {\n                  loading.dismiss();\n                  this.change_details=res;\n                  if(this.change_details == true){                  \n                    this.navCtrl.setRoot(LoginPage);  \n                    let toast = this.toastCtrl.create({\n                        message: 'Your password has been changed',\n                        duration: 2000,\n                        position: 'bottom'\n                      });\n                    toast.present();                \n                  }else{\n                    this.change.new_password = '';\n                    this.change.password='';\n                    let alert = this.alertCtrl.create({\n                      title: `Croon`,\n                      message: `Invalid details`,\n                      buttons: ['Ok']\n                    });\n                    alert.present();\n                  } \n              },\n              error => {\n                  loading.dismiss();\n                  console.log(error);\n                  let alert = this.alertCtrl.create({\n                    title: `Server error`,\n                    message: `There are issues connecting to Croon.please try again later.`,\n                    buttons: ['Ok']\n                  });\n                  alert.present();\n              });\n         }\n    }\t\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/changepassword/changepassword.ts"],"sourceRoot":""}