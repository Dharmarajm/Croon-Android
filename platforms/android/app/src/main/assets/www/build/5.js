webpackJsonp([5],{313:function(l,n,e){"use strict";function t(l){return o._23(0,[(l()(),o._0(0,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.back()&&t}return t},C.b,C.a)),o.Z(1,1097728,null,0,j.a,[[8,""],Z.a,o.j,o.A],{clear:[0,"clear"]},null),(l()(),o._21(-1,0,["\n       "])),(l()(),o._0(3,0,null,0,1,"ion-icon",[["name","ios-arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Z(4,147456,null,0,D.a,[Z.a,o.j,o.A],{name:[0,"name"]},null),(l()(),o._21(-1,0,["\n      "]))],function(l,n){l(n,1,0,"");l(n,4,0,"ios-arrow-back")},function(l,n){l(n,3,0,o._12(n,4)._hidden)})}function a(l){return o._23(0,[(l()(),o._0(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,o._3(1,"",n.component.imgPreview,""))})}function u(l){return o._23(0,[(l()(),o._0(0,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,function(l,n){l(n,0,0,o._3(1,"",n.component.imgPreview,""))})}function i(l){return o._23(0,[(l()(),o._0(0,0,null,null,62,"ion-content",[["class","ion-content-profile"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,A.b,A.a)),o.Z(1,4374528,null,0,R.a,[Z.a,x.a,B.a,o.j,o.A,N.a,V.a,o.v,[2,F.a],[2,M.a]],null,null),(l()(),o._21(-1,1,["\n  "])),(l()(),o._0(3,0,null,1,14,"div",[["class","header"]],null,null,null,null,null)),(l()(),o._21(-1,null,["\n    "])),(l()(),o._0(5,0,null,null,9,"span",[],null,null,null,null,null)),(l()(),o._21(-1,null,["\n      "])),(l()(),o.V(16777216,null,null,1,null,t)),o.Z(8,16384,null,0,T.j,[o.J,o.G],{ngIf:[0,"ngIf"]},null),(l()(),o._21(-1,null,["\n      "])),(l()(),o._0(10,0,null,null,3,"h4",[],null,null,null,null,null)),o.Z(11,278528,null,0,T.h,[o.q,o.r,o.j,o.B],{ngClass:[0,"ngClass"]},null),o._15(12,{"text-success":0}),(l()(),o._21(-1,null,["My Profile"])),(l()(),o._21(-1,null,["\n    "])),(l()(),o._21(-1,null,["\n    "])),(l()(),o._0(16,0,null,null,0,"img",[["src","assets/imgs/logo.png"]],null,null,null,null,null)),(l()(),o._21(-1,null,["\n  "])),(l()(),o._21(-1,1,["\n  "])),(l()(),o._0(19,0,null,1,14,"div",[["class","profile-pic"]],null,null,null,null,null)),(l()(),o._21(-1,null,["\n    "])),(l()(),o.V(16777216,null,null,1,null,a)),o.Z(22,16384,null,0,T.j,[o.J,o.G],{ngIf:[0,"ngIf"]},null),(l()(),o._21(-1,null,["\n    "])),(l()(),o.V(16777216,null,null,1,null,u)),o.Z(25,16384,null,0,T.j,[o.J,o.G],{ngIf:[0,"ngIf"]},null),(l()(),o._21(-1,null,["\n      "])),(l()(),o._0(27,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.getPhoto()&&t}return t},C.b,C.a)),o.Z(28,1097728,null,0,j.a,[[8,""],Z.a,o.j,o.A],null,null),(l()(),o._21(-1,0,["\n       "])),(l()(),o._0(30,0,null,0,1,"ion-icon",[["name","md-create"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Z(31,147456,null,0,D.a,[Z.a,o.j,o.A],{name:[0,"name"]},null),(l()(),o._21(-1,0,["\n      "])),(l()(),o._21(-1,null,["\n  "])),(l()(),o._21(-1,1,["\n  "])),(l()(),o._0(35,0,null,1,26,"div",[["class","form-proceed"]],null,null,null,null,null)),(l()(),o._21(-1,null,["\n    "])),(l()(),o._0(37,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,J.b,J.a)),o.Z(38,1097728,null,3,L.a,[O.a,Z.a,o.j,o.A,[2,U.a]],null,null),o._19(335544320,1,{contentLabel:0}),o._19(603979776,2,{_buttons:1}),o._19(603979776,3,{_icons:1}),o.Z(42,16384,null,0,G.a,[],null,null),(l()(),o._21(-1,2,["\n      "])),(l()(),o._0(44,0,null,1,2,"ion-label",[["floating",""]],null,null,null,null,null)),o.Z(45,16384,[[1,4]],0,q.a,[Z.a,o.j,o.A,[8,""],[8,null],[8,null],[8,null]],null,null),(l()(),o._21(-1,null,["Name"])),(l()(),o._21(-1,2,["\n      "])),(l()(),o._0(48,0,null,3,4,"ion-input",[["id","profile_name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(l,n,e){var t=!0;if("ngModelChange"===n){t=!1!==(l.component.prof_name=e)&&t}return t},W.b,W.a)),o.Z(49,671744,null,0,X.n,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),o._17(2048,null,X.j,null,[X.n]),o.Z(51,16384,null,0,X.k,[X.j],null,null),o.Z(52,5423104,null,0,Y.a,[Z.a,x.a,O.a,N.a,o.j,o.A,[2,R.a],[2,L.a],[2,X.j],B.a],{type:[0,"type"]},null),(l()(),o._21(-1,2,["\n    "])),(l()(),o._21(-1,null,["\n    "])),(l()(),o._0(55,0,null,null,5,"button",[["block",""],["id","profile_proceed_button"],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.dashboard()&&t}return t},C.b,C.a)),o.Z(56,1097728,null,0,j.a,[[8,""],Z.a,o.j,o.A],{block:[0,"block"]},null),(l()(),o._21(-1,0,["\n      Proceed \n      "])),(l()(),o._0(58,0,null,0,1,"ion-icon",[["name","ios-arrow-forward"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Z(59,147456,null,0,D.a,[Z.a,o.j,o.A],{name:[0,"name"]},null),(l()(),o._21(-1,0,["\n    "])),(l()(),o._21(-1,null,["\n  "])),(l()(),o._21(-1,1,["\n"])),(l()(),o._21(-1,null,["\n\n"]))],function(l,n){var e=n.component;l(n,8,0,1==e.ShowBack);l(n,11,0,l(n,12,0,0==e.ShowBack));l(n,22,0,null==e.user_image);l(n,25,0,null!=e.user_image);l(n,31,0,"md-create");l(n,49,0,e.prof_name);l(n,52,0,"text");l(n,56,0,"");l(n,59,0,"ios-arrow-forward")},function(l,n){var e=n.component;l(n,0,0,o._12(n,1).statusbarPadding,o._12(n,1)._hasRefresher);l(n,30,0,o._12(n,31)._hidden);l(n,48,0,o._12(n,51).ngClassUntouched,o._12(n,51).ngClassTouched,o._12(n,51).ngClassPristine,o._12(n,51).ngClassDirty,o._12(n,51).ngClassValid,o._12(n,51).ngClassInvalid,o._12(n,51).ngClassPending);l(n,55,0,!e.prof_name);l(n,58,0,o._12(n,59)._hidden)})}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0),s=(e(1),e(11),e(60)),r=e(176),g=e(177),c=e(49),_=e(27),m=e(10),h=e(26),d=function(){function l(l,n,e,t,a,u,i,o,r,g,c,_,m,h){var d=this;this.app=l,this.nav=n,this.navCtrl=e,this.navParams=t,this.platform=a,this.votes=u,this.imagePicker=i,this.base64=o,this.loadingCtrl=r,this.alertCtrl=g,this.menu=c,this.toast=_,this.global=m,this.oneSignal=h,this.ShowBack=!0,this.ShowBack="true"!=localStorage.getItem("ProfileShow"),a.ready().then(function(){a.registerBackButtonAction(function(){1==d.ShowBack&&d.navCtrl.setRoot(s.a)},0),d.triggerNotification()}),null!=localStorage.getItem("user_image")?(this.imgPreview=localStorage.getItem("user_image"),this.user_image=this.imgPreview):(this.imgPreview="assets/imgs/profileIcon.jpg",this.user_image=null),"null"!=localStorage.getItem("user_name")&&(this.prof_name=localStorage.getItem("user_name"))}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ProfilePage")},l.prototype.triggerNotification=function(){var l=this;this.oneSignal.startInit("b968edce-1541-4003-a09e-3a670becec2d","812346685705"),this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.Notification),this.oneSignal.getIds().then(function(l){localStorage.setItem("player_id",l.userId)}),this.oneSignal.setSubscription(!0),this.oneSignal.handleNotificationReceived().subscribe(function(l){}),this.oneSignal.handleNotificationOpened().subscribe(function(n){l.assignPush=JSON.stringify(n.notification.isAppInFocus),l.getPushData=n.notification.payload.additionalData,localStorage.setItem("action",l.assignPush),localStorage.setItem("noti_page",l.getPushData.action),void 0!=l.getPushData.value||null!=l.getPushData.value?(localStorage.setItem("ViewDetails",l.getPushData.value.id),localStorage.setItem("noti_genre_id",l.getPushData.value.genre.id),localStorage.setItem("noti_genre_type",l.getPushData.value.genre.genre_type),"home"==localStorage.getItem("noti_page")?l.nav.setRoot("TabsPage",{tabIndex:0}):l.nav.setRoot("TabsPage",{tabIndex:3})):"home"==localStorage.getItem("noti_page")?l.nav.setRoot("TabsPage",{tabIndex:0}):l.nav.setRoot("TabsPage",{tabIndex:3})}),this.oneSignal.endInit()},l.prototype.getPhoto=function(){var l=this;this.imagePicker.getPictures({maximumImagesCount:1,quality:90,width:500,height:500}).then(function(n){if(0!=n.length)for(var e=0;e<n.length;e++)l.imgPreview=n[e],l.user_image=null,l.base64.encodeFile(n[e]).then(function(n){l.image=n},function(l){console.log(l)});else null!=l.user_image?l.imgPreview=localStorage.getItem("user_image"):l.user_image=null},function(l){console.log(l)})},l.prototype.dashboard=function(){var l=this;if(this.name=this.prof_name,""!=this.image){var n={image:this.image,user_id:localStorage.getItem("user_id"),user_name:this.name};this.showLoader(),this.votes.register(n).subscribe(function(n){var e=n;l.loading.dismiss(),0!=e.image.length&&localStorage.setItem("user_image",e.image[0].image_path.url),localStorage.setItem("user_name",e.first_name),l.menu.user_id=e.id,l.menu.user_name=e.first_name,0!=e.image.length&&(l.menu.user_image=e.image[0].image_path.url),l.toast.show("Uploaded successfully","2000","bottom").subscribe(function(l){console.log(l)})},function(n){l.loading.dismiss(),l.toast.show("Uploading Failed","2000","bottom").subscribe(function(l){console.log(n)})})}this.navCtrl.setRoot(s.a)},l.prototype.back=function(){this.navCtrl.setRoot(s.a)},l.prototype.showLoader=function(){this.loading=this.loadingCtrl.create({content:"Uploading..."}),this.loading.present()},l}(),f=function(){return function(){}}(),p=e(245),b=e(246),v=e(247),P=e(248),I=e(249),S=e(250),w=e(251),y=e(252),k=e(253),C=e(25),j=e(18),Z=e(2),D=e(30),A=e(58),R=e(21),x=e(4),B=e(7),N=e(6),V=e(24),F=e(5),M=e(19),T=e(12),J=e(46),L=e(16),O=e(15),U=e(31),G=e(37),q=e(66),W=e(254),X=e(17),Y=e(90),z=e(34),E=e(13),H=e(42),K=e(41),Q=o.Y({encapsulation:2,styles:[],data:{}}),$=o.W("page-profile",d,function(l){return o._23(0,[(l()(),o._0(0,0,null,null,1,"page-profile",[],null,null,null,i,Q)),o.Z(1,49152,null,0,d,[N.a,z.a,M.a,E.a,x.a,c.a,r.a,g.a,H.a,K.a,s.a,_.a,m.a,h.a],null,null)],null,null)},{},{},[]),ll=e(168),nl=e(65);e.d(n,"ProfilePageModuleNgFactory",function(){return el});var el=o.X(f,[],function(l){return o._8([o._9(512,o.i,o.T,[[8,[p.a,b.a,v.a,P.a,I.a,S.a,w.a,y.a,k.a,$]],[3,o.i],o.t]),o._9(4608,T.l,T.k,[o.s,[2,T.t]]),o._9(4608,X.r,X.r,[]),o._9(4608,X.d,X.d,[]),o._9(512,T.b,T.b,[]),o._9(512,X.p,X.p,[]),o._9(512,X.e,X.e,[]),o._9(512,X.o,X.o,[]),o._9(512,ll.a,ll.a,[]),o._9(512,ll.b,ll.b,[]),o._9(512,f,f,[]),o._9(256,nl.a,d,[])])})}});