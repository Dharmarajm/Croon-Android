{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n})\nexport class SearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component ,ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Platform, App, Nav } \nfrom 'ionic-angular';\nimport { SearchProvider } from '../../providers/search/search';\nimport { ModalController } from 'ionic-angular';\nimport { Globals } from '../../providers/global';\nimport { OneSignal } from '@ionic-native/onesignal';\n\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage{\n  \n\n@ViewChild('myInput') myInput ;\n\n\n  someValue:any;\n  SearchOrder:any[]=[];\n  ID:any;\n  limit:number=100;\n  tabBarElement:any;\n  Template:boolean = false;\n  searchTemplate:boolean = false;\n  loading:any;\n  display_details:any;\n  Search_keywords:any;\n  prevPage:any;\n  assignPush:any;\n  network_status:any;\n  getPushData:any;\n\n  constructor(public app:App,public navCtrl: NavController,public nav:Nav,public navParams: NavParams,public SearchService:SearchProvider,public modalCtrl : ModalController,public global:Globals,public loadingCtrl: LoadingController,public platform:Platform,private oneSignal:OneSignal) {\n   platform.ready().then(() => {\n     platform.registerBackButtonAction(() => {  \n          this.navCtrl.pop();\n     }, 0);\n     //this.triggerNotification();\n   })\n   if(localStorage.getItem(\"user_id\")!=null){\n     this.ID=localStorage.getItem(\"user_id\")\n   }else{\n     this.ID=null;\n   }\n   this.tabBarElement = document.querySelector('.tabbar.show-tabbar');\n   this.display_details=0;\n   \n  }\n\n  ionViewDidLoad() {\n    this.prevPage = this.navCtrl.last().name;\n  }\n \n  ionViewWillEnter() {   \n    this.tabBarElement.style.display = 'none';  \n    if(this.global.network_status==2){\n       this.network_status=2;    \n     }else{\n       this.network_status=1;\n     } \n\n  }\n\n  ionViewDidEnter() {\n     window.setTimeout(() => {\n          this.myInput.setFocus();\n     }, 600);\n  }\n\n \n  ionViewWillLeave() {\n    this.tabBarElement.style.display = 'flex';\n  }\n\n\n  // triggerNotification(){\n  //      this.oneSignal.startInit('b968edce-1541-4003-a09e-3a670becec2d', '812346685705');\n  //      this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.Notification);\n  //      this.oneSignal.getIds().then((id) => {\n  //        console.log(id.userId);\n  //        localStorage.setItem(\"player_id\", id.userId);\n     \n  //      });\n  //      //this.oneSignal.setSubscription(true);\n  //      this.oneSignal.handleNotificationReceived().subscribe((data) => {\n  //      // handle received here how you wish.\n  //      }); \n  //      this.oneSignal.handleNotificationOpened().subscribe((result) => { \n  //       this.assignPush = JSON.stringify(result.notification.isAppInFocus);\n  //       this.getPushData = result.notification.payload.additionalData;\n  //       localStorage.setItem(\"action\", this.assignPush);\n\n  //       if(localStorage.getItem(\"action\") == 'false'){\n            \n  //       }else{\n  //         console.log('focus',result)\n  //         localStorage.setItem(\"noti_page\", this.getPushData.action);\n  //         if(this.getPushData.value!=undefined || this.getPushData.value!=null){\n  //           localStorage.setItem(\"ViewDetails\", this.getPushData.value.id);\n  //           localStorage.setItem(\"noti_genre_id\", this.getPushData.value.genre.id);\n  //           localStorage.setItem(\"noti_genre_type\", this.getPushData.value.genre.genre_type);\n  //           if(localStorage.getItem(\"noti_page\")==\"home\"){ \n  //            this.nav.setRoot('TabsPage',{tabIndex:0}) \n  //           }else{\n  //            this.nav.setRoot('TabsPage',{tabIndex:3}) \n  //           }\n  //         }else if(localStorage.getItem(\"noti_page\")==\"home\"){\n  //           this.nav.setRoot('TabsPage',{tabIndex:0}) \n  //         }else{\n  //           this.nav.setRoot('TabsPage',{tabIndex:3})  \n  //         }\n  //       }   \n  //      });\n       \n  //      this.oneSignal.endInit();       \n  // }\n\n  cancelSearch(){\n   this.navCtrl.pop();  \n  }\n\n\n  onEnter(e){\n    if (e.keyCode == 13) {\n            let activeElement = <HTMLElement>document.activeElement;\n            activeElement && activeElement.blur && activeElement.blur();\n     }\n    if(this.navCtrl.getPrevious().name=='HomePage'){\n      this.keywords_list();\n    }else{\n      this.HistorySearch();\n    }\n    \n  }\n \n  keywords_list(){\n   \n    if(this.someValue.length>0){\n     if(this.global.network_status==2){\n      this.network_status=2; \n      this.SearchService.home_keywords_list(this.someValue)\n      .subscribe(res=>{\n          this.Search_keywords=res;\n          this.display_details=1;\n          if(this.Search_keywords.length == 0){\n           this.display_details=3;\n          }\n         },error=>{   \n      })\n     }else{\n       this.Search_keywords=[];\n       this.display_details=1;\n       this.network_status=1;\n     }  \n    }else{\n      this.Search_keywords=[];\n      this.display_details=0;\n    }\n\n  }\n\n  keywords_details(keyword_name){\n    if(this.global.network_status==2){\n     this.SearchService.homeTopList(keyword_name)\n     .subscribe(res=>{\n       this.SearchOrder=res;\n       this.display_details=2;\n     },error=>{\n     })\n    }else{\n      this.display_details=2;\n      this.network_status=1;\n    } \n  }\n\n \n  HistorySearch(){\n     this.SearchService.historyOrder(this.someValue,this.limit)\n     .subscribe(res=>{\n       this.SearchOrder=res;\n       this.Template=true;      \n     },error=>{\n     })\n  }\n\n  public openModal(user,rank){\n   if(this.global.network_status==2){ \n    localStorage.setItem(\"ViewDetails\",user);\n    localStorage.setItem(\"rank\",rank);\n    var data = { message : 'hello world' };\n    var modalPage = this.modalCtrl.create('ModalPage',data);\n    modalPage.present();\n    localStorage.setItem(\"pageNav\",this.navCtrl.last().name);\n    modalPage.onDidDismiss(() => {\n          this.platform.ready().then(() => {  \n           this.platform.registerBackButtonAction(() => {  \n                this.navCtrl.pop();\n           }, 0);\n           //this.triggerNotification();\n         })\n    });\n   }else{\n     this.SearchOrder=[];\n     this.network_status=1;\n   }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}